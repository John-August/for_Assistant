// SRT Ensure command execution and result
server.on('connection', (ws) => {
    ws.on('message', (message) => {
        const command = message.toString().trim();
        console.log(`[INFO] Получена команда: ${command}`);
        exec(command, (error, stdout, stderr) => {
            if (error) {
                console.error(`[ERROR] Ошибка выполнения команды: ${error.message}`);
                ws.send(`Ошибка: ${error.message}`);
                return;
            }
            if (stderr) {
                console.error(`[WARN] Предупреждение при выполнении: ${stderr}`);
                ws.send(`Предупреждение: ${stderr}`);
                return;
            }
            console.log(`[INFO] Результат команды: ${stdout}`);
            ws.send(`Результат: ${stdout}`);
        });
    });
});
// END Ensure command execution and result
